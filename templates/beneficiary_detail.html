{% extends 'base.html' %}

{% block content %}
<!DOCTYPE html>
<html>
<head>
  <style>
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
  padding: 0;
  background-color: #f2f2f2;
}

h1, h2 {
  text-align: center;
  color: #fcfafa;
}

h1 {
  margin-top: 2em;
  background-color: #115299;
  font-size: 2rem;
  padding: 0.5em 1em;
  color: white;
}

h2 {
  font-size: 1.5rem;
  margin-top: 20px;
}

table {
  border-collapse: collapse;
  width: 100%;
  margin-top: 20px;
}

th, td {
  padding: 1em;
  text-align: left;
  border-bottom: 1px solid #ccc;
}

th {
  background-color: #eee;
  font-weight: bold;
  border-bottom: 2px solid #ccc;
}

.profile-photo {
  width: 150px;
  height: 150px;
  border-radius: 50%;
  object-fit: cover;
  margin: 0 auto;
}

.action-buttons {
  display: flex;
  justify-content: space-between;
  margin-top: 10px;
}

.action-buttons a {
  text-decoration: none;
  color: #007bff;
}

.action-buttons a:hover {
  color: #0056b3;
}

.create-button,
.update-button,
.delete-button,
.semc_create-button,
.semc_create-button2,
.beneficiary_detail-button {
  display: inline-block;
  padding: 0.5em 1em;
  border: 1px solid transparent;
  border-radius: 5px;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.create-button {
  background-color: #539f38;
  color: #fff;
}

.update-button {
  background-color: #2196f3;
  color: #fff;
}

.delete-button {
  background-color: #f44336;
  color: #fff;
}

.semc_create-button,
.semc_create-button2 {
  background-color: #4caf50;
  color: #fff;
}

.beneficiary_detail-button {
  background-color: #5da166;
  color: #fff;
}

.meter {
  width: 100%;
  height: 20px;
  background-color: #f0f0f0;
  border-radius: 5px;
}

.meter span {
  display: block;
  height: 100%;
  width: 0;
  background-color: #4caf50;
  border-radius: 5px;
  transition: width 0.5s ease;
}


.section-heading {
  position: relative;
  text-align: center;
  font-size: 1.5rem;
  margin-top: 20px;
  z-index: 1; /* Ensure the heading stays on top */
}

.section-heading::after {
  content: "";
  display: block;
  width: 100%; /* Adjust the width of the band */
  height: 40px; /* Adjust the thickness of the band */
  background-color: #0e2858; /* Adjust the color of the band */
  position: absolute;
  bottom: -9px; /* Adjust the distance of the band from the heading */
  left: 0;
  z-index: -1; /* Push the band behind the heading */
  border-radius: 5px; /* Adjust the border-radius if needed */
}



    </style>
</head>
<body>
    <h1 style="text-align: center; margin-top: 2em; color: rgb(12, 12, 12);">Beneficiary Details for <span style="color: white;">{{ beneficiary.name_of_participant }}</span></h1><span style="color:rgb(241, 244, 242)">{{ person.Client_Name }}</span></h1>
    <table>
        <tr>
          

          {% if beneficiary.participant_photo %}
          <img src="{{ beneficiary.participant_photo.url }}" alt="Beneficiary Photo" class="profile-photo">
        {% else %}
          <p>No photo available</p>
        {% endif %}
        
          <th>Group name</th>
            <th>Nationality</th>
            <th>Region</th>
            <th>District</th>
            <th>Settlement</th>
            <th>Household ID</th>
            <th>Name of Participant</th>
            <th>Name of Household head</th>
            <th>Household head phone number</th>>
            <th>Participant gender</th>
            <th>Participant age</th>
            <th>Relationship to head of household</th>
            <th>Gender of head of household</th>
            <th>Age of head of household</th>
            <th>Disability of head of household</th>            
            <th>Marital status </th>
            <th>Educational level</th>
            <th>Religion</th>
            <th>member id</th>
        </tr>
        <tr>

          <td>{{ beneficiary.group }}</td>
            <td>{{ beneficiary.nationality }}</td>
            <td>{{ beneficiary.region }}</td>
            <td>{{ beneficiary.district }}</td>
            <td>{{ beneficiary.settlement }}</td>
            <td>{{ beneficiary.household_id }}</td>
            <td>{{ beneficiary.name_of_participant }}</td>
            <td>{{ beneficiary.name_of_household_head }}</td>
            <td>{{ beneficiary.household_head_phone }}</td>
            <td>{{ beneficiary.gender_of_participant }}</td>
            <td>{{ beneficiary.participant_age }}</td>

            <td>{{ beneficiary.relationship_with_household_head }}</td>
            <td>{{ beneficiary.gender_hhh }}</td>
            <td>{{ beneficiary.age_of_hhh }}</td>
            <td>{{ beneficiary.disablity_of_hhh }}</td>
            <td>{{ beneficiary.marital_status }}</td>
            <td>{{ beneficiary.education_level }}</td>
            <td>{{ beneficiary.religion }}</td>
            <td>{{ beneficiary.id }}</td>
 

           
        </tr>
    </table>

<p>
<td>
    <!-- Add more fields as needed -->
    <tr class="action-buttons" style="display: flex; font-size: 0.7rem;">
    <a href="{% url 'beneficiary_update' beneficiary.pk %}"  data-toggle="tooltip" title="Edit this beneficiary">Edit</a>

    <a href="{% url 'beneficiary_delete' beneficiary.pk %}" data-toggle="tooltip" title="Delete this beneficiary">Delete</a>
    <a href="{% url 'group_detail' beneficiary.group.pk %}" >Back to Group Details</a>
  </tr>
</td>

</p>
<p>
  <a href="{% url 'add_nutricash_beneficiary' beneficiary.pk %}" class="beneficiary_detail-button">Add Nutricash Beneficiary</a>
</p>


<div>
  <h2 class="section-heading">Nutricash Beneficiaries</h2>

  {% if nutricash_beneficiaries %}
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>ID Type</th>
          <th>ID Number</th>
          <th>Pregnant or Lactating</th>
          <th>Beneficiary Status</th>
          <th>Action buttons</th>
        </tr>
      </thead>
      <tbody>
        {% for nutricashbeneficiary in nutricash_beneficiaries %}
        <tr>
          <td>{{ nutricashbeneficiary.nutricash_beneficiary_name }}</td>
          <td>{{ nutricashbeneficiary.ID_type }}</td>
          <td>{{ nutricashbeneficiary.ID_number }}</td>
          <td>{{ nutricashbeneficiary.pregnant_or_lactating }}</td>
          <td>{{ nutricashbeneficiary.beneficiary_status }}</td>
          <td class="action-buttons" style="display: flex; font-size: 0.7rem;">
            <a href="{% url 'spnutricash_update' nutricashbeneficiary.pk %}" class="update-button">Update</a>
            <a href="{% url 'nutricashbeneficiary_delete' nutricashbeneficiary.pk %}" class="delete-button">Delete</a>
            <a href="{% url 'nutricashbeneficiary_detail' nutricashbeneficiary.pk %}" class="detail-button">View Details</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No Nutricash beneficiary associated with this beneficiary.</p>
  {% endif %}
</div>
<!-- <a href="{% url 'spnutricash_create' beneficiary.pk %}"  class="spnutricash_create-button">Add Nutricash Beneficiary Record</a> -->





    <h2 class="section-heading">SEMC Coaching records for <span style="color: rgb(218, 243, 73);">{{ beneficiary.name_of_household_head }}</span></h1></h2>
    {% if semcmentoringcoaching_details %}
    <table>
      <tr>
        <th>Meeting date</th>
        <th>Provider</th>
        <th>Group name</th>
        <th>Beneficiary</th>
        <th>Region</th>
        <th>District</th>
        <th>Settlement</th>
        <th>Mentor name</th>
        <th>Topic of discussion</th>
        <th>Component</th>
        <th>Action buttons</th>
      </tr>
    
      {% for semcmentoringcoaching_detail in semcmentoringcoaching_details %}
      <tr>
        <td>{{ semcmentoringcoaching_detail.meeting_date }}</td>
        <td>{{ semcmentoringcoaching_detail.provider }}</td>
        <td>{{ semcmentoringcoaching_detail.group.group_name }}</td>
        <td>{{ semcmentoringcoaching_detail.beneficiary }}</td>
        <td>{{ semcmentoringcoaching_detail.region }}</td>
        <td>{{ semcmentoringcoaching_detail.district }}</td>
        <td>{{ semcmentoringcoaching_detail.settlement }}</td>
        <td>{{ semcmentoringcoaching_detail.mentor_name }}</td>
        <td>{{ semcmentoringcoaching_detail.topic_of_discussion }}</td>
        <td>{{ semcmentoringcoaching_detail.component }}</td>
        <td class="action-buttons" style="display: flex; font-size: 0.7rem;">
          <a href="{% url 'semc_mentoring_coaching_update' semcmentoringcoaching_detail.pk %}" class="update-button">Update</a>
          <a href="{% url 'semc_mentoring_coaching_delete' semcmentoringcoaching_detail.pk %}" class="delete-button">Delete</a>
          <a href="{% url 'semc_mentoring_coaching_create' beneficiary.pk %}"  class="semc_create-button">Add SEMC Coaching Record</a>
        </td>
      </tr>
      {% endfor %}
    </table>
    {% else %}
    <p>No SEMC Coaching Details available for <span style="color:rgb(13, 168, 60)">{{ beneficiary.name_of_household_head }}</span></h1>.</p>
    <a href="{% url 'semc_mentoring_coaching_create' beneficiary.pk %}"  class="semc_create-button2">Add SEMC Coaching Record</a>
    {% endif %}
  
    
</ul>

<!-- ... (rest of the code) ... -->


<h2 class="section-heading">SEMC Community Participation records for <span style="color: rgb(50, 47, 235);">{{ beneficiary.name_of_household_head }}</h2>
{% if semccommunityparticipation_details %}
<table>
  <tr>
    <th>Meeting date</th>
    <th>Provider</th>
    <th>Group name</th>
    <th>Beneficiary</th>
    <th>Region</th>
    <th>District</th>
    <th>Settlement</th>
    <th>Topic of discussion</th>
    <th>Component</th>
    <th>Action buttons</th>
  </tr>

  {% for semccommunityparticipation_detail in semccommunityparticipation_details %}
  <tr>
    <td>{{ semccommunityparticipation_detail.meeting_date }}</td>
    <td>{{ semccommunityparticipation_detail.provider }}</td>
    <td>{{ semccommunityparticipation_detail.group.group_name }}</td>
    <td>{{ semccommunityparticipation_detail.beneficiary }}</td>
    <td>{{ semccommunityparticipation_detail.region }}</td>
    <td>{{ semccommunityparticipation_detail.district }}</td>
    <td>{{ semccommunityparticipation_detail.settlement }}</td>
    <td>{{ semccommunityparticipation_detail.topic_of_discussion }}</td>
    <td>{{ semccommunityparticipation_detail.component }}</td>
    <td class="action-buttons" style="display: flex; font-size: 0.7rem;">
      <a href="{% url 'semccommunityparticipation_update' semccommunityparticipation_detail.pk %}" class="update-button">Update</a>
      <a href="{% url 'semccommunityparticipation_delete' semccommunityparticipation_detail.pk %}" class="delete-button">Delete</a>
      <a href="{% url 'semccommunityparticipation_create' beneficiary.pk %}"  class="semc_create-button">Add SEMC Community Participation Record</a>
    </td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>No SEMC Community Participation Details available for <span style="color:rgb(13, 168, 60)">{{ beneficiary.name_of_household_head }}</span></h1>.</p>
<a href="{% url 'semccommunityparticipation_create' beneficiary.pk %}"  class="semc_create-button2">Add SEMC Community Participation Record</a>
{% endif %}


</ul>



<h2>SEMC SBCC records for <span style="color: rgb(50, 47, 235);">{{ beneficiary.name_of_household_head }}"</h2>
{% if semcsbcc_details %}
<table>
  <tr>
    <th>Meeting date</th>
    <th>Provider</th>
    <th>Group name</th>
    <th>Beneficiary</th>
    <th>Region</th>
    <th>District</th>
    <th>Settlement</th>
    <th>Topic of discussion</th>
    <th>Component</th>
    <th>Action buttons</th>
  </tr>

  {% for semcsbcc_detail in semcsbcc_details %}
  <tr>
    <td>{{ semcsbcc_detail.meeting_date }}</td>
    <td>{{ semcsbcc_detail.provider }}</td>
    <td>{{ semcsbcc_detail.group.group_name }}</td>
    <td>{{ semcsbcc_detail.beneficiary }}</td>
    <td>{{ semcsbcc_detail.region }}</td>
    <td>{{ semcsbcc_detail.district }}</td>
    <td>{{ semcsbcc_detail.settlement }}</td>
    <td>{{ semcsbcc_detail.topic_of_discussion }}</td>
    <td>{{ semcsbcc_detail.component }}</td>
    <td class="action-buttons" style="display: flex; font-size: 0.7rem;">
      <a href="{% url 'semcsbcc_update' semcsbcc_detail.pk %}" class="update-button">Update</a>
      <a href="{% url 'semcsbcc_delete' semcsbcc_detail.pk %}" class="delete-button">Delete</a>
      <a href="{% url 'semcsbcc_create' beneficiary.pk %}"  class="semc_create-button">Add SEMC SBCC Record</a>
    </td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>No SEMC SBCC  Details available for <span style="color:rgb(13, 168, 60)">{{ beneficiary.name_of_household_head }}</span></h1>.</p>
<a href="{% url 'semcsbcc_create' beneficiary.pk %}"  class="semc_create-button2">Add SEMC SBCC Record</a>
{% endif %}


</ul>
<h2>SP GFA records for <span style="color: rgb(50, 47, 235);">{{ beneficiary.name_of_household_head }}</h2>
{% if spgfa_details %}
<table>
  <tr>
    <th>Disbursement date</th>
    <th>Provider</th>
    <th>Group name</th>
    <th>Beneficiary</th>
    <th>Region</th>
    <th>District</th>
    <th>Settlement</th>
    <th>Household Beneficiary </th>
    <th>Transfer value</th>
    <th>Component</th>
    <th>Action buttons</th>
  </tr>

  {% for spgfa_detail in spgfa_details %}
  <tr>
    <td>{{ spgfa_detail.disbursement_date }}</td>
    <td>{{ spgfa_detail.provider }}</td>
    <td>{{ spgfa_detail.group.group_name }}</td>
    <td>{{ spgfa_detail.beneficiary }}</td>
    <td>{{ spgfa_detail.region }}</td>
    <td>{{ spgfa_detail.district }}</td>
    <td>{{ spgfa_detail.settlement }}</td>
    <td>{{ spgfa_detail.household_beneficiary_name }}</td>
    <td>{{spgfa_detail.transfer_value}}</td>
    <td>{{ spgfa_detail.component }}</td>
    <td class="action-buttons" style="display: flex; font-size: 0.7rem;">
      <a href="{% url 'spgfa_update' spgfa_detail.pk %}" class="update-button">Update</a>
      <a href="{% url 'spgfa_delete' spgfa_detail.pk %}" class="delete-button">Delete</a>
      <a href="{% url 'spgfa_create' beneficiary.pk %}"  class="semc_create-button">Add SP GFA Record</a>
    </td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>No SP GFA  Details available for <span style="color:rgb(13, 168, 60)">{{ beneficiary.name_of_household_head }}</span></h1>.</p>
<a href="{% url 'spgfa_create' beneficiary.pk %}"  class="semc_create-button2">Add SP GFA Record</a>
{% endif %}


</ul>


<h2>SP Nutricash records for <span style="color: rgb(50, 47, 235);">{{ beneficiary.name_of_household_head }}</h2>
{% if spnutricash_details %}
<table>
  <tr>
    <th>Disbursement date</th>
    <th>Provider</th>
    <th>Group name</th>
    <th>Beneficiary</th>
    <th>Region</th>
    <th>District</th>
    <th>Settlement</th>
    <th>Household Beneficiary </th>
    <th>Transfer value</th>
    <th>Component</th>
    <th>Action buttons</th>
  </tr>

  {% for spnutricash_detail in spnutricash_details %}
  <tr>
    <td>{{ spnutricash_detail.disbursement_date }}</td>
    <td>{{ spnutricash_detail.provider }}</td>
    <td>{{ spnutricash_detail.group.group_name }}</td>
    <td>{{ spnutricash_detail.beneficiary }}</td>
    <td>{{ spnutricash_detail.region }}</td>
    <td>{{ spnutricash_detail.district }}</td>
    <td>{{ spnutricash_detail.settlement }}</td>
    <td>{{ spnutricash_detail.household_beneficiary_name }}</td>    
    <td>{{spnutricash_detail.transfer_value}}</td>
    <td>{{ spnutricash_detail.component }}</td>
    <td class="action-buttons" style="display: flex; font-size: 0.7rem;">
      <a href="{% url 'spnutricash_update' spnutricash_detail.pk %}" class="update-button">Update</a>
      <a href="{% url 'spnutricash_delete' spnutricash_detail.pk %}" class="delete-button">Delete</a>
      <a href="{% url 'spnutricash_create' beneficiary.pk %}"  class="semc_create-button">Add SP Nutricash Record</a>
    </td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>No SP Nutricash Details available for <span style="color:rgb(13, 168, 60)">{{ beneficiary.name_of_household_head }}</span></h1>.</p>
<a href="{% url 'spnutricash_create' beneficiary.pk %}"  class="semc_create-button2">Add SP Nutricash Record</a>
{% endif %}


<h2>SP SAGE records for <span style="color: rgb(50, 47, 235);">{{ beneficiary.name_of_household_head }}</h2>
{% if spsage_details %}
<table>
  <tr>
    <th>Disbursement date</th>
    <th>Provider</th>
    <th>Group name</th>
    <th>Beneficiary</th>
    <th>Region</th>
    <th>District</th>
    <th>Settlement</th>
    <th>Household Beneficiary </th>
    <th>Transfer value</th>
    <th>Component</th>
    <th>Action buttons</th>
  </tr>

  {% for spsage_detail in spsage_details %}
  <tr>
    <td>{{ spsage_detail.disbursement_date }}</td>
    <td>{{ spsage_detail.provider }}</td>
    <td>{{ spsage_detail.group.group_name }}</td>
    <td>{{ spsage_detail.beneficiary }}</td>
    <td>{{ spsage_detail.region }}</td>
    <td>{{ spsage_detail.district }}</td>
    <td>{{ spsage_detail.settlement }}</td>
    <td>{{ spsage_detail.household_beneficiary_name }}</td>    
    <td>{{spsage_detail.transfer_value}}</td>
    <td>{{ spsage_detail.component }}</td>
    <td class="action-buttons" style="display: flex; font-size: 0.7rem;">
      <a href="{% url 'spsage_update' spsage_detail.pk %}" class="update-button">Update</a>
      <a href="{% url 'spsage_delete' spsage_detail.pk %}" class="delete-button">Delete</a>
      <a href="{% url 'spsage_create' beneficiary.pk %}"  class="semc_create-button">Add SP SAGE Record</a>
    </td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>No SP SAGE Details available for <span style="color:rgb(13, 168, 60)">{{ beneficiary.name_of_household_head }}</span></h1>.</p>
<a href="{% url 'spsage_create' beneficiary.pk %}"  class="semc_create-button2">Add SP SAGE Record</a>
{% endif %}


<h2>LPD On-Farm records for <span style="color: rgb(50, 47, 235);">{{ beneficiary.name_of_household_head }}</h2>
{% if lpdonfarm_details %}
<table>
  <tr>
    <th>Value date</th>
    <th>Provider</th>
    <th>Group name</th>
    <th>Beneficiary</th>
    <th>Region</th>
    <th>District</th>
    <th>Settlement</th>
    <th>On-Farm component received </th>  
    <th>Component</th>
    <th>Action buttons</th>
  </tr>

  {% for lpdonfarm_detail in lpdonfarm_details %}
  <tr>
    <td>{{ lpdonfarm_detail.value_date }}</td>
    <td>{{ lpdonfarm_detail.provider }}</td>
    <td>{{ lpdonfarm_detail.group.group_name }}</td>
    <td>{{ lpdonfarm_detail.beneficiary }}</td>
    <td>{{ lpdonfarm_detail.region }}</td>
    <td>{{ lpdonfarm_detail.district }}</td>
    <td>{{ lpdonfarm_detail.settlement }}</td>
    <td>{{ lpdonfarm_detail.Onfarm_component_received }}</td>
    <td>{{ lpdonfarm_detail.component }}</td>
    <td class="action-buttons" style="display: flex; font-size: 0.7rem;">
      <a href="{% url 'lpdonfarm_update' lpdonfarm_detail.pk %}" class="update-button">Update</a>
      <a href="{% url 'lpdonfarm_delete' lpdonfarm_detail.pk %}" class="delete-button">Delete</a>
      <a href="{% url 'lpdonfarm_create' beneficiary.pk %}"  class="semc_create-button">Add LPD On-Farm Record</a>
    </td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>No LPD On-Farm Details available for <span style="color:rgb(13, 168, 60)">{{ beneficiary.name_of_household_head }}</span></h1>.</p>
<a href="{% url 'lpdonfarm_create' beneficiary.pk %}"  class="semc_create-button2">Add LPD On-Farm Record</a>
{% endif %}

<h2>LPD Off-Farm records for <span style="color: rgb(50, 47, 235);">{{ beneficiary.name_of_household_head }}</h2>
{% if lpdofffarm_details %}
<table>
  <tr>
    <th>Value date</th>
    <th>Provider</th>
    <th>Group name</th>
    <th>Beneficiary</th>
    <th>Region</th>
    <th>District</th>
    <th>Settlement</th>
    <th>Off-Farm Software component received </th>  
    <th>Off-Farm Hardware component received </th>  
    <th>Component</th>
    <th>Action buttons</th>
  </tr>

  {% for lpdofffarm_detail in lpdofffarm_details %}
  <tr>
    <td>{{ lpdofffarm_detail.value_date }}</td>
    <td>{{ lpdofffarm_detail.provider }}</td>
    <td>{{ lpdofffarm_detail.group.group_name }}</td>
    <td>{{ lpdofffarm_detail.beneficiary }}</td>
    <td>{{ lpdofffarm_detail.region }}</td>
    <td>{{ lpdofffarm_detail.district }}</td>
    <td>{{ lpdofffarm_detail.settlement }}</td>
    <td>{{ lpdofffarm_detail.Offfarm_Software_component_received }}</td>
    <td>{{ lpdofffarm_detail.Offfarm_Hardware_component_received }}</td>
    <td>{{ lpdofffarm_detail.component }}</td>
    <td class="action-buttons" style="display: flex; font-size: 0.7rem;">
      <a href="{% url 'lpdofffarm_update' lpdofffarm_detail.pk %}" class="update-button">Update</a>
      <a href="{% url 'lpdofffarm_delete' lpdofffarm_detail.pk %}" class="delete-button">Delete</a>
      <a href="{% url 'lpdofffarm_create' beneficiary.pk %}"  class="semc_create-button">Add LPD Off-Farm Record</a>
    </td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>No LPD off-Farm Details available for <span style="color:rgb(13, 168, 60)">{{ beneficiary.name_of_household_head }}</span></h1>.</p>
<a href="{% url 'lpdofffarm_create' beneficiary.pk %}"  class="semc_create-button2">Add LPD Off-Farm Record</a>
{% endif %}



<h2>LPD Non-Farm records for <span style="color: rgb(50, 47, 235);">{{ beneficiary.name_of_household_head }}</h2>
{% if lpdnonfarm_details %}
<table>
  <tr>
    <th>Value date</th>
    <th>Provider</th>
    <th>Group name</th>
    <th>Beneficiary</th>
    <th>Region</th>
    <th>District</th>
    <th>Settlement</th>
    <th>Non-Farm Software component received </th>  
    <th>Non-Farm Hardware component received </th>  
    <th>Component</th>
    <th>Action buttons</th>
  </tr>

  {% for lpdnonfarm_detail in lpdnonfarm_details %}
  <tr>
    <td>{{ lpdnonfarm_detail.value_date }}</td>
    <td>{{ lpdnonfarm_detail.provider }}</td>
    <td>{{ lpdnonfarm_detail.group.group_name }}</td>
    <td>{{ lpdnonfarm_detail.beneficiary }}</td>
    <td>{{ lpdnonfarm_detail.region }}</td>
    <td>{{ lpdnonfarm_detail.district }}</td>
    <td>{{ lpdnonfarm_detail.settlement }}</td>
    <td>{{ lpdnonfarm_detail.nonfarm_Software_component_received }}</td>
    <td>{{ lpdnonfarm_detail.nonOfffarm_Hardware_component_received }}</td>
    <td>{{ lpdnonfarm_detail.component }}</td>
    <td class="action-buttons" style="display: flex; font-size: 0.7rem;">
      <a href="{% url 'lpdnonfarm_update' lpdnonfarm_detail.pk %}" class="update-button">Update</a>
      <a href="{% url 'lpdnonfarm_delete' lpdnonfarm_detail.pk %}" class="delete-button">Delete</a>
      <a href="{% url 'lpdnonfarm_create' beneficiary.pk %}"  class="semc_create-button">Add LPD Non-Farm Record</a>
    </td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>No LPD Non-Farm Details available for <span style="color:rgb(13, 168, 60)">{{ beneficiary.name_of_household_head }}</span></h1>.</p>
<a href="{% url 'lpdnonfarm_create' beneficiary.pk %}"  class="semc_create-button2">Add LPD Non-Farm Record</a>
{% endif %}



<h2> DFI records for <span style="color: rgb(50, 47, 235);">{{ beneficiary.name_of_household_head }}</h2>
{% if dfi_details %}
<table>
  <tr>
    <th>Value date</th>
    <th>Provider</th>
    <th>Group name</th>
    <th>Beneficiary</th>
    <th>Region</th>
    <th>District</th>
    <th>Settlement</th>
    <th>DFI Software component received </th>      
    <th>Component</th>
    <th>Action buttons</th>
  </tr>

  {% for dfi_detail in dfi_details %}
  <tr>
    <td>{{ dfi_detail.value_date }}</td>
    <td>{{ dfi_detail.provider }}</td>
    <td>{{ dfi_detail.group.group_name }}</td>
    <td>{{ dfi_detail.beneficiary }}</td>
    <td>{{ dfi_detail.region }}</td>
    <td>{{ dfi_detail.district }}</td>
    <td>{{ dfi_detail.settlement }}</td>
    <td>{{ dfi_detail.DFI_Software_component_received }}</td>
    <td>{{ dfi_detail.component }}</td>
    <td class="action-buttons" style="display: flex; font-size: 0.7rem;">
      <a href="{% url 'dfi_update' dfi_detail.pk %}" class="update-button">Update</a>
      <a href="{% url 'dfi_delete' dfi_detail.pk %}" class="delete-button">Delete</a>
      <a href="{% url 'dfi_create' beneficiary.pk %}"  class="semc_create-button">Add DFI Record</a>
    </td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>No DFI Details available for <span style="color:rgb(13, 168, 60)">{{ beneficiary.name_of_household_head }}</span></h1>.</p>
<a href="{% url 'dfi_create' beneficiary.pk %}"  class="semc_create-button2">Add DFI Record</a>
{% endif %}






{% load static %}

<script src="{% static 'js/gauge.js' %}"></script>


<div id="gauge"></div>

<script>
// Make a GET request to the get_record_counts view
fetch('/get_record_counts/1/')
  .then(response => response.json())
  .then(data => {
    // Extract the record counts for each model instance
    const semcMentoringCount = data.semc_mentoring_count;
    const semcCommunityCount = data.semc_community_count;
    const semcSbccCount = data.semc_sbcc_count;

    // Create a new gauge instance
    const gauge = new Gauge('#gauge');

    // Set the gauge values
    gauge.setValues([semcMentoringCount, semcCommunityCount, semcSbccCount]);

    // Display the gauge
    gauge.draw();
  })
  .catch(error => {
    console.error('Error fetching record counts:', error);
  });
</script>



<p>

<div class="meter">
  <span id="progress-bar" style="width: 0;"></span>
</div>

</p>




<script>
  // Function to update the meter's progress
  function updateMeterProgress(beneficiaryId) {
    // Make an AJAX request to get the record counts
    fetch(`/get_record_counts/${beneficiaryId}/`)
      .then((response) => response.json())
      .then((data) => {
        const totalCount = data.total_count; // Get the total count from the JSON response

        // Calculate the percentage progress
        const progress = (totalCount / MAX_COUNT) * 100; // Adjust MAX_COUNT as needed

        // Update the progress bar width
        const progressBar = document.getElementById('progress-bar');
        progressBar.style.width = `${progress}%`;
      })
      .catch((error) => {
        console.error('Error fetching record counts:', error);
      });
  }

  // Call the updateMeterProgress function with the beneficiary ID
  
  const beneficiaryId = 1; // Replace with the desired beneficiary ID
  const MAX_COUNT = 11; // Set your maximum count value here
  updateMeterProgress(beneficiaryId);
</script>


</body>






</ul>
</body>
</html>
{% endblock %}